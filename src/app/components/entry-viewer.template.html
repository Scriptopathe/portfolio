<div class="row">
    <div class="col s12 m12">

        <div class="card sticky-action">
            <div class="card-image waves-effect waves-block waves-light">
                <img (click)="toogleExpand()" class="image-aspect-ratio activator" height="200px" [style.background-image]="sanitizeStyle('url(' + entry.thumbnailUrl +')')" />
            </div>
            
            <div class="card-content" [style.min-height]="minHeight">
                <span (click)="toogleExpand()" class="card-title activator grey-text text-darken-4">
                    {{entry.name}}
                </span>
                <h5>Abstract</h5>
                <markdown [data]="entry.abstract">
                </markdown>
                <h5>Experience Gains</h5>
                <markdown [data]="entry.conclusion">
                </markdown>


                <!-- Competences -->
                <ul materialize="collapsible" class="collapsible" data-collapsible="accordion">
                    <li>
                        <div class="collapsible-header grey lighten-5">
                            Competences
                            <div class="right-align" style="margin-top: -3em">
                                <div [class]="' chip ' + entry.module.color + ' lighten-3'">{{entry.module.name}}</div>
                            </div>
                        </div> <!-- grey lighten-5 -->
                        <div class="collapsible-body">
                            <table class="centered highlight bordered">
                                <tbody>
                                    <tr *ngFor="let competence of entry.competences;">
                                        <td [class]="competence.module.color + ' lighten-5' " style="width: 6em">
                                            {{ competence.module.name }} 
                                        </td>
                                        <td [class]="competence.module.color + ' lighten-4' " style="width: 2em">
                                            {{ competence.ufId + 1 }}.{{competence.competenceId + 1 }}
                                        </td>
                                        <td>{{ competence.module.ufs[competence.ufId].competences[competence.competenceId] }}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="card-reveal">
                <span (click)="toogleExpand()" class="card-title grey-text text-darken-4">{{entry.name}}<i class="material-icons right">close</i></span>

                <!-- PDF Document -->
                <div *ngIf="entry.content.contentType == contentType.PDFDocumentURL">
                    
                    <div style="text-align: center" class="margin-bottom: 1em;">
                        <a class="waves-effect waves-light btn" 
                        target="_blank"
                        [href]="sanitizeRessourceUrl(entry.content.contentValue)">
                        Download PDF
                        </a>
                        <br />
                        ~
                    </div>
                    
                    <object [data]="sanitizeRessourceUrl(entry.content.contentValue)" type="application/pdf" width="100%" height="800px">
                        <a [href]="sanitizeRessourceUrl(entry.content.contentValue)">Link</a>
                    </object>
                </div>

                <!-- Markdown document -->
                <div *ngIf="entry.content.contentType == contentType.RawMarkdownDocument">
                    <markdown [data]="entry.content.contentValue"></markdown>
                </div>

                <!-- Link document -->
                <div *ngIf="entry.content.contentType == contentType.Link">
                    <div style="text-align: center" class="margin-bottom: 1em;">
                        <a class="waves-effect waves-light btn" 
                        target="_blank"
                        [href]="sanitizeRessourceUrl(entry.content.contentValue)">
                        Link to document
                        </a>
                        <br />
                    </div>
                </div>
            </div>

            <div class="card-action">
                <strong>Tags: </strong>
                <span class="chip" style="line-height: 1em; height: 1em;" *ngFor="let tag of entry.tags">{{tag}} </span>
            
            </div>
        </div>
    </div>
</div>
<!--
    <div class="material-box-title">{{entry.name}}</div> 
    <h4>Abstract</h4>
    {{ entry.abstract }}
    <h4>Content</h4>
    <h4>Experience Gains</h4>
    {{ entry.conclusion }}

    <hr />
    <strong>Tags: </strong> <span *ngFor="let tag of entry.tags">{{tag}}</span>-->